---
layout: post
title:  "[Jetson Nano] Jetson Nano 개발 환경을 구축해보자"
subtitle:   "jetson"
categories: devlog
tags: embedded
---

오늘은 제가 인턴으로 근무하는 연구실에 있는 Jetson Nano 사용기를 적어보도록 하겠습니다! 평소 써보고 싶었던 보드인데 마침 연구실에 떡하니 있어서 박사님께 양해를 구하고 테스트를 해보았습니다. 그럼 Jetson Nano가 도대체 어떤 친구인지 먼저 알아봐야겠죠?

<br/>


## Jetson Nano

![Imgur](https://i.imgur.com/LFqPUkp.jpg)

NVIDIA Jetson Nano는 저비용 저전력의 소형 AI 시스템을 개발하기 위해 고안된 임베디드 보드 입니다. 거의 대부분의 임베디드보드가 ARM을 쓰고 있기 때문에 CPU 사양은 뻔합니다. ARMv8 기반의 5x 또는 7x 의 Dual 이냐, 아니면 Quad 이냐 정도 인것 같습니다. (일부 저가 보드는 v8이지만 3x를 쓰기도 합니다) 사실 라즈베리파이4랑 스펙을 비교했을 때 Jetson Nano의 성능이 앞선다 라고 말하기는 힘듭니다.

<br/>
다만 주목할 점은 바로 GPU입니다. 바로 NVIDIA CUDA 코어가 128개 장착된 GPU를 사용한다는 점 입니다. 따라서 On-device 에서의 딥러닝 개발을 한다면 젯슨 나노를 택하는 것이 좋겠죠! 그럼 시작하겠습니다.
<br/>
<br/>

## 전원 공급 & 팬 달기 

NVIDIA Jetson Nano는 5V 4A라는 현실에서 찾기 어려운 전원 공급 어댑터를 사용합니다. 따라서 보드를 살 때 보통 어댑터를 구매하는게 일반적이죠. 하지만 연구실안에서는 해당 어댑터를 찾을 수 없었기 때문에 울며 겨자먹기로 5V 3A 어댑터를 사용하였습니다.

<br/>
<br/>

하지만... 네..... OPENCV를 돌릴 때마다 계속 전원이 꺼지는 현상을 발견하고...ㅠㅠ 결국 파워 서플라이를 이용하여 직접 5V 전원 공급 장치를 만들자! 생각을 했습죠...<br/>
문제에 봉착하였을 때 이를 해결하는 것이 바로 엔지니어의 기본 소양~★ 여러분들도 아시죠~?

<br/>

이제 전자과 짬바를 발휘해볼까요? 회로는 잘 기억이 안나지만 파워서플라이는 많이 만져봤거든요! 순서는 이렇습니다. 
* 안쓰는 어댑터를 찾아서 연결부를 잘라낸다. 
* 파워서플라이에 따로 케이블을 연결한다.
* +, -를 잘 구분해서 잘라낸 연결부와 케이블을 결합시킨다. 
* LCR 미터를 통해서 전압이 잘 나오는지 측정한다. 
* Jetson Nano에 꽂아서 확인한다.

<br/>

대충 이런 식으로 몇번의 삽질을 하였습니다. 박사님이 케이블이 여러개달린 친구를 갖다줌으로서 문제는 바로 해결이 됐습니다.

![Imgur](https://i.imgur.com/miEwRsv.jpg)

<br/>

이제 잘 연결이 됐구나 하고 Jetson Nano에 우분투를 올리는데 발열이 꽤 심한 것 같았습니다. 예전에 연구실에 남아도는 팬이 있는 것을 기억하고 팬을 직접 보드 위에 장착해야겠다 생각하였습니다. 

<br/>

따라서 메인 컴퓨터에 달려있는 큰 팬을 가져와서 파워서플라이에는 12V 전원을 공급해주었습니다. 다시말해 Jetson Nano와 독립적으로 동작하는 팬을 연결한 것입니다. 

![Imgur](https://i.imgur.com/nD6eZUX.jpg)

<br/>


이제 이 케이블을 연결하면 팬이 잘 돌아갑니다.

<br/>

![Imgur](https://i.imgur.com/ER57mcy.gif)

<br/>


시원,,,

<br/>

저는 항상 최신 버전의 소프트웨어는 못미더워 하기 때문에
[여기](https://developer.nvidia.com/jetpack-43-archive)서 jetpack 4.3버전을 마운트 하였습니다. 라즈베리파이를 몇 번 다뤄본 사용자라면 etcher나 win32 sdcard를 이용한 이미지 굽기! 알고 계실거라고 생각합니다 ㅎㅅㅎ

![Imgur](https://i.imgur.com/DfOle7S.png)

이렇게 초록불 두개가 들어오고 젯슨나노에 끼워서 설치를 진행해 줍시다. 

<br/>

![Imgur](https://i.imgur.com/mwvODrc.jpg)

다음 포스팅에는 tensorflow 및 opencv 설치 혹은 ros 설치 내용을 다뤄보겠습니다. 감사합니다.